@using System.Web.Optimization
@using System.Web.Configuration;
@using EL.Logic.ViewHelpers;
@using EL.Server.Views.App_LocalResources;
@{
	Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Header {
    <head>
        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <meta content="" name="description" />
        <meta content="" name="author" />

        <!-- BEGIN GLOBAL MANDATORY STYLES -->
        <!--
            <link href="Content/front/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
            <link href="Content/front/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
            -->
       <!-- END GLOBAL MANDATORY STYLES -->
   
        <!-- BEGIN PAGE LEVEL PLUGIN STYLES --> 
        <!--
            <link href="Content/front/plugins/fancybox/source/jquery.fancybox.css" rel="stylesheet" />
            -->
       <link rel="stylesheet" href="Content/front/plugins/revolution_slider/css/rs-style.css" media="screen">
        <link rel="stylesheet" href="Content/front/plugins/revolution_slider/rs-plugin/css/settings.css" media="screen"> 
        <!--
        <link href="Content/front/plugins/bxslider/jquery.bxslider.css" rel="stylesheet" />
       <!-- END PAGE LEVEL PLUGIN STYLES -->

       <!-- BEGIN THEME STYLES (includ them in bundle)--> 
        <!--<link href="Content/front/css/style-metronic.css" rel="stylesheet" type="text/css"/>
            <link href="Content/front/css/style.css" rel="stylesheet" type="text/css"/>-->

        <link href="/Content/front/css/themes/red.css" rel="stylesheet" type="text/css" id="style_color"/>

       <!--<link href="Content/front/css/style-responsive.css" rel="stylesheet" type="text/css"/>
       <link href="Content/front/css/custom.css" rel="stylesheet" type="text/css"/>-->
       <!-- END THEME STYLES -->

       <link rel="shortcut icon" href="favicon.ico" />

        <title>@ElResources.ResourceManager.GetString(ViewData["Title"].ToString(), ElResources.Culture)</title>
        @Header.Insert(Url)
        @L10n.Insert(Server, (ViewData["locale"] ?? string.Empty).ToString(), (ViewData["resourceTemplate"] ?? string.Empty).ToString(), Url)
    </head>
}
@RenderBody()
@section TopMenu
{
    @Html.Partial("~/Views/Front/TopMenu.cshtml")
}
@section JsLoader{
    <!-- Load javascripts at bottom, this will reduce page load time -->
    <!-- BEGIN CORE PLUGINS(REQUIRED FOR ALL PAGES) -->
    <!--[if lt IE 9]>
        <script src="Content/front/plugins/respond.min.js"></script>
    <![endif]-->  
    @Scripts.Render("~/jsBundle/front")
    <script type="text/javascript">
        jQuery(document).ready(function () {

            elapp.defaults = {
                appBuild: '@Html.JsStringHtml(WebConfigurationManager.AppSettings["Build"] ?? "")',
                customerSupportEmail: '@Html.JsStringHtml(WebConfigurationManager.AppSettings["SupportEmail"] ?? "")',
                customerCareUrl: '@Html.JsStringHtml(ViewData["CustomerCareUrl"].ToString())',
                searchTimeout: '@Html.JsStringHtml((ViewData["pages.FactFinder.SearchTimeout"]??"0").ToString())',
                translations: @Html.Raw(JsonPacket.Compose(ViewData["Translation"]))
            };
            elapp.urls = {
                logout: '@Html.JsString(Url.Action("logoff", "Account", new {module = ViewData["module"]}))',
                error: '@Html.JsString(Url.Action("Error", "Account", new {module = ViewData["module"]}) + String.Format("?returnurl={0}", HttpUtility.UrlEncode(Url.Action("Index", "App", new {module = ViewData["module"]}))))',
                baseUrl: '@Html.JsString(Url.Content("~/" + ViewData["module"] + "/"))App'
            };
            var val = "sss1";
            var ret = val.RemoveDuplicates("s");
            alert(ret);
            el.register('dateFormatter', el.Date, 'singleton', {
                'days': '@Html.JsString((string)ViewBag.DayNames)',
                'months': '@Html.JsString((string)ViewBag.MonthNames)',
                'daysMin': '@Html.JsString((string)ViewBag.AbbrDayNames)',
                'monthsMin': '@Html.JsString((string)ViewBag.AbbrMonthNames)',
                'template':'@Html.JsString((string)ViewBag.DateTimeTemplate)'
            });

            
            App.init();
            App.initBxSlider();
            Index.initRevolutionSlider();
        });
    </script>
    <!-- END PAGE LEVEL JAVASCRIPTS -->
}